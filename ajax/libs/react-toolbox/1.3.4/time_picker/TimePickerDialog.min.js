"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_classnames=require("classnames"),_classnames2=_interopRequireDefault(_classnames),_time=require("../utils/time.js"),_time2=_interopRequireDefault(_time),_Clock=require("./Clock.js"),_Clock2=_interopRequireDefault(_Clock),factory=function(e){var t=function(t){function a(){var e,t,s,r;_classCallCheck(this,a);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];return t=s=_possibleConstructorReturn(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i))),s.state={display:"hours",displayTime:new Date(s.props.value.getTime())},s.handleClockChange=function(e){s.setState({displayTime:e})},s.handleSelect=function(e){s.props.onSelect(s.state.displayTime,e)},s.toggleTimeMode=function(){s.setState({displayTime:_time2.default.toggleTimeMode(s.state.displayTime)})},s.handleHandMoved=function(){"hours"===s.state.display&&s.setState({display:"minutes"})},s.switchDisplay=function(e){s.setState({display:e.target.id})},s.actions=[{label:s.props.cancelLabel,className:s.props.theme.button,onClick:s.props.onDismiss},{label:s.props.okLabel,className:s.props.theme.button,name:s.props.name,onClick:s.handleSelect}],r=t,_possibleConstructorReturn(s,r)}return _inherits(a,t),_createClass(a,[{key:"componentWillReceiveProps",value:function(e){e.value.getTime()!==this.state.displayTime.getTime()&&this.setState({displayTime:new Date(e.value.getTime())})}},{key:"componentDidUpdate",value:function(e){!e.active&&this.props.active&&setTimeout(this.refs.clock.handleCalculateShape,1e3)}},{key:"formatHours",value:function(){return"ampm"===this.props.format?this.state.displayTime.getHours()%12||12:this.state.displayTime.getHours()}},{key:"renderAMPMLabels",value:function(){var e=this.props.theme;if("ampm"===this.props.format)return _react2.default.createElement("div",{className:e.ampm},_react2.default.createElement("span",{className:e.am,onClick:this.toggleTimeMode},"AM"),_react2.default.createElement("span",{className:e.pm,onClick:this.toggleTimeMode},"PM"))}},{key:"render",value:function(){var t=this.props.theme,a=this.state.display+"Display",s=_time2.default.getTimeMode(this.state.displayTime)+"Format",r=(0,_classnames2.default)([t.dialog,t[a],t[s]],this.props.className);return _react2.default.createElement(e,{actions:this.actions,active:this.props.active,className:r,onEscKeyDown:this.props.onEscKeyDown,onOverlayClick:this.props.onOverlayClick},_react2.default.createElement("header",{className:t.header},_react2.default.createElement("span",{id:"hours",className:t.hours,onClick:this.switchDisplay},("0"+this.formatHours()).slice(-2)),_react2.default.createElement("span",{className:t.separator},":"),_react2.default.createElement("span",{id:"minutes",className:t.minutes,onClick:this.switchDisplay},("0"+this.state.displayTime.getMinutes()).slice(-2)),this.renderAMPMLabels()),_react2.default.createElement(_Clock2.default,{ref:"clock",display:this.state.display,format:this.props.format,onChange:this.handleClockChange,onHandMoved:this.handleHandMoved,theme:this.props.theme,time:this.state.displayTime}))}}]),a}(_react.Component);return t.propTypes={active:_react.PropTypes.bool,cancelLabel:_react.PropTypes.string,className:_react.PropTypes.string,format:_react.PropTypes.oneOf(["24hr","ampm"]),name:_react.PropTypes.string,okLabel:_react.PropTypes.string,onDismiss:_react.PropTypes.func,onEscKeyDown:_react.PropTypes.func,onOverlayClick:_react.PropTypes.func,onSelect:_react.PropTypes.func,theme:_react.PropTypes.shape({am:_react.PropTypes.string,amFormat:_react.PropTypes.string,ampm:_react.PropTypes.string,button:_react.PropTypes.string,dialog:_react.PropTypes.string,header:_react.PropTypes.string,hours:_react.PropTypes.string,hoursDisplay:_react.PropTypes.string,minutes:_react.PropTypes.string,minutesDisplay:_react.PropTypes.string,pm:_react.PropTypes.string,pmFormat:_react.PropTypes.string,separator:_react.PropTypes.string}),value:_react.PropTypes.object},t.defaultProps={active:!1,cancelLabel:"Cancel",format:"24hr",okLabel:"Ok",value:new Date},t};exports.default=factory;
//# sourceMappingURL=TimePickerDialog.min.js.map