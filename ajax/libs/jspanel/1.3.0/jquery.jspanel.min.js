var jsPanelversion="1.3.0 2014-03-31 10:11";
(function(b){function m(){var k=0;b(".jsPanel").each(function(){b(this).zIndex()>k&&(k=b(this).zIndex())});return k+1}b.fn.jsPanel=function(k,l){var a=b.extend(!0,{},b.fn.jsPanel.defaults,k),g=b(".jsPanel",this.first()).length,c=b('<div class="jsPanel normalized" style="z-index:1000;display:none;"><div class="jsPanel-hdr"><div class="jsPanel-hdr-l"><p class="jsPanel-hdr-l-text"></p></div><div class="jsPanel-hdr-r"><div class="jsPanel-hdr-r-btn-close"></div><div class="jsPanel-hdr-r-btn-max normal"></div><div class="jsPanel-hdr-r-btn-min"></div></div><div class="cf"></div></div><div class="jsPanel-content"></div></div>');c.appendTo(this.first());
    b(".jsPanel-hdr-l-text",c).append(a.title);a.controls&&"closeonly"===a.controls&&b(".jsPanel-hdr-r-btn-min, .jsPanel-hdr-r-btn-max",c).remove();if(a.id){if("string"===typeof a.id)if(1>b("#"+a.id).length)c.attr("id",a.id);else{jQuery.isFunction(jQuery.fn.uniqueId)?c.uniqueId():(a.id=function(){return"jsPanel_"+(b(".jsPanel").length+1)},c.attr("id",a.id));var d=b(".jsPanel-hdr-l-text",c).html();b(".jsPanel-hdr-l-text",c).html(d+" AUTOMATIC ID: "+c.attr("id"))}b.isFunction(a.id)&&c.attr("id",a.id)}else jQuery.isFunction(jQuery.fn.uniqueId)?
        c.uniqueId():a.id=function(){return"jsPanel_"+(b(".jsPanel").length+1)};"string"===typeof a.overflow?b(".jsPanel-content",c).css("overflow",a.overflow):b.isPlainObject(a.overflow)&&b(".jsPanel-content",c).css({"overflow-y":a.overflow.vertical,"overflow-x":a.overflow.horizontal});a.toolbarContent&&(b(".jsPanel-content",c).css({height:"-webkit-calc(100% - 40px)",height:"calc(100% - 40px"}),b(".jsPanel-hdr",c).css("height","38px").append('<div style="color:white;" class="jsPanel-hdr-toolbar"></div>'),
        b(".jsPanel-hdr-toolbar",c).append(a.toolbarContent));b.isPlainObject(a.contentBG)?b(".jsPanel-content",c).css(a.contentBG):"string"===typeof a.contentBG&&b(".jsPanel-content",c).css("background",a.contentBG);b.isPlainObject(a.draggable)?(a.customdraggable=b.extend(!0,{},b.fn.jsPanel.defaults.draggable,a.draggable),c.draggable(a.customdraggable)):b(".jsPanel-hdr-l",c).css("cursor","inherit");b.isPlainObject(a.resizable)&&(a.customresizable=b.extend(!0,{},b.fn.jsPanel.defaults.resizable,a.resizable),
        c.resizable(a.customresizable));"number"==typeof a.autoclose&&0<a.autoclose&&window.setTimeout(function(){c.fadeOut("slow",function(){this.remove()})},a.autoclose);a.content&&b(".jsPanel-content",c).append(a.content);a.load&&b.isPlainObject(a.load)&&a.load.url&&(a.load.data||(a.load.data=void 0),d=a.load.complete?function(b,e,f){a.load.complete(b,e,f,c)}:b.noop(),b(".jsPanel-content",c).empty().load(a.load.url,a.load.data,d));a.ajax&&b.isPlainObject(a.ajax)&&b.ajax(a.ajax).done(function(h,e,f){b(".jsPanel-content",
        c).empty().append(h);a.ajax.done&&b.isFunction(a.ajax.done)&&a.ajax.done(h,e,f,c)}).fail(function(h,e,f){a.ajax.fail&&b.isFunction(a.ajax.fail)&&a.ajax.fail(h,e,f,c)}).always(function(h,e,f){a.ajax.always&&b.isFunction(a.ajax.always)&&a.ajax.always(h,e,f,c)}).then(function(h,e,f){if(a.ajax.then&&b.isArray(a.ajax.then)&&a.ajax.then[0]&&b.isFunction(a.ajax.then[0]))a.ajax.then[0](h,e,f,c)},function(h,e,f){if(a.ajax.then&&b.isArray(a.ajax.then)&&a.ajax.then[1]&&b.isFunction(a.ajax.then[1]))a.ajax.then[1](h,
        e,f,c)});"string"===typeof a.size&&"auto"==a.size&&(a.size={width:"auto",height:"auto"});b.isPlainObject(a.size)&&("auto"!=a.size.width&&(149<parseInt(a.size.width)?a.size.width=parseInt(a.size.width)+"px":b.isFunction(a.size.width)?(d=parseInt(a.size.width(c)),console.log(d),a.size.width=149<d?d+"px":b.fn.jsPanel.defaults.size.width):a.size.width=b.fn.jsPanel.defaults.size.width),"auto"!=a.size.height&&(92<parseInt(a.size.height)?a.size.height=parseInt(a.size.height)+"px":b.isFunction(a.size.height)?
        (d=parseInt(a.size.height(c)),a.size.height=92<d?d+"px":b.fn.jsPanel.defaults.size.height):a.size.height=b.fn.jsPanel.defaults.size.height));c.css({width:a.size.width,height:a.size.height});a.size.width=b(c).outerWidth();a.size.height=b(c).innerHeight();"string"===typeof a.position&&("center"==a.position?a.position={top:"center",left:"center"}:"auto"==a.position?a.position={top:"auto",left:"auto"}:"top left"==a.position?a.position={top:0,left:0}:"top center"==a.position?a.position={top:0,left:"center"}:
        "top right"==a.position?a.position={top:0,right:0}:"center right"==a.position?a.position={top:"center",right:0}:"bottom right"==a.position?a.position={bottom:0,right:0}:"bottom center"==a.position?a.position={bottom:0,left:"center"}:"bottom left"==a.position?a.position={bottom:0,left:0}:"center left"==a.position&&(a.position={top:"center",left:0}));if(b.isPlainObject(a.position)){if(a.position.top||0==a.position.top)"center"===a.position.top?(a.position.top=(c.parent().height()-parseInt(a.size.height))/
        2+"px",0>parseInt(a.position.top)&&(a.position.top=0)):"auto"===a.position.top?a.position.top=25*g+10+"px":b.isFunction(a.position.top)?(d=parseInt(a.position.top(c)),0<=d&&(a.position.top=d+"px")):0<=parseInt(a.position.top)?a.position.top=parseInt(a.position.top)+"px":a.position.top=25*g+10+"px",c.css("top",a.position.top);else if(a.position.bottom||0==a.position.bottom)"center"===a.position.bottom?(a.position.bottom=(c.parent().height()-parseInt(a.size.height))/2+"px",0>parseInt(a.position.bottom)&&
        (a.position.bottom=0)):"auto"===a.position.bottom?a.position.bottom=25*g+10+"px":b.isFunction(a.position.bottom)?(d=parseInt(a.position.bottom(c)),0<=d&&(a.position.bottom=d+"px")):0<=parseInt(a.position.bottom)?a.position.bottom=parseInt(a.position.bottom)+"px":a.position.bottom=25*g+10+"px",c.css("bottom",a.position.bottom);if(a.position.left||0==a.position.left)"center"===a.position.left?a.position.left=(c.parent().width()-parseInt(a.size.width))/2+"px":"auto"===a.position.left?a.position.left=
        25*g+10+"px":b.isFunction(a.position.left)?(g=parseInt(a.position.left(c)),0<=g&&(a.position.left=g+"px")):0<=parseInt(a.position.left)?a.position.left=parseInt(a.position.left)+"px":a.position.left=25*g+10+"px",c.css("left",a.position.left);else if(a.position.right||0==a.position.right)"center"===a.position.right?a.position.right=(c.parent().width()-parseInt(a.size.width))/2+"px":"auto"===a.position.right?a.position.right=25*g+10+"px":b.isFunction(a.position.right)?(g=parseInt(a.position.right(c)),
        0<=g&&(a.position.right=g+"px")):0<=parseInt(a.position.right)?a.position.right=parseInt(a.position.right)+"px":a.position.right=25*g+10+"px",c.css("right",a.position.right)}a.position.top?c.css("top",a.position.top):a.position.bottom&&c.css("bottom",a.position.bottom);a.position.left?c.css("left",a.position.left):a.position.right&&c.css("right",a.position.right);c.css("z-index",m());c.on("click",function(){c.css("z-index",m())});b(".jsPanel-hdr-r-btn-close",c).on("click",function(){c.close()});b(".jsPanel-hdr-r-btn-min",
        c).on("click",function(){c.minimize()});b(".jsPanel-hdr-r-btn-max",c).on("click",function(){c.maximize()});c.title=function(){if(0==arguments.length)return b(".jsPanel-hdr-l-text",this);if(1==arguments.length&&!0===arguments[0])return b(".jsPanel-hdr-l-text",this).html();1==arguments.length&&"string"===typeof arguments[0]&&b(".jsPanel-hdr-l-text",this).html(arguments[0]);return this};c.addToolbar=function(a){a&&"string"===typeof a&&(b(".jsPanel-content",this).css({height:"-webkit-calc(100% - 40px)",
        height:"calc(100% - 40px"}),b(".jsPanel-hdr",this).css("height","38px").append('<p style="color:white;" class="jsPanel-hdr-toolbar"></p>'),b(".jsPanel-hdr-toolbar",this).append(a));return this};c.close=function(){var a=b(this).parent(),e=a.children(".jsPanel").length;c.closeChildpanels();b(this).remove();for(var f=0;f<e-1;f++){var d=150*f+"px";a.children(".minimized").eq(f).animate({left:d})}return a};c.closeChildpanels=function(){b(".jsPanel",this).each(function(a){b(this).attr("id");b(this).remove()});
        return this};c.front=function(){this.css("z-index",m());return this};c.movetoFront=c.front;c.minimize=function(){0==b("#jsPanel-min-container").length&&b("body").append('<div id="jsPanel-min-container"></div>');if(!this.hasClass("minimized")){this.hasClass("normalized")&&c.storeData(c);var a=150*b(".jsPanel.minimized").length+"px";b(".jsPanel-hdr-toolbar, .jsPanel-content",this).css("display","none");this.removeClass("normalized maximized").addClass("minimized").animate({width:"150px",height:"22px",
        left:a,top:0,opacity:1,zIndex:1E3}).resizable("disable").draggable("disable");b(".jsPanel-hdr-r-btn-max",this).removeClass("normal").addClass("alternate");c.appendTo("#jsPanel-min-container")}return this};c.maximize=function(){if(this.hasClass("normalized")){this.hasClass("minimized")||c.storeData(c);this.hasClass("minimized")&&this.appendTo(this.data("parentElement"));var a="hidden"!=this.parent().css("overflow-x")?parseInt(this.parent().width(),10)-35+"px":parseInt(this.parent().width(),10)-20+
        "px",e="hidden"!=this.parent().css("overflow-y")?parseInt(this.parent().height(),10)-35+"px":parseInt(this.parent().height(),10)-20+"px";this.animate({left:"5px",top:"5px",width:a,height:e}).removeClass("minimized normalized").addClass("maximized");1==b(".jsPanel-hdr-toolbar",this).length?(b(".jsPanel-hdr-toolbar",this).css("display","block"),b(".jsPanel-content",this).css({display:"block",width:"100%",height:"100%",height:"-webkit-calc(100% - 40px)",height:"calc(100% - 40px)"})):b(".jsPanel-content",
        this).eq(0).css({display:"block",width:"100%",height:"100%",height:"-webkit-calc(100% - 20px)",height:"calc(100% - 20px)"});b(".jsPanel-hdr-r-btn-max",this).removeClass("normal").addClass("alternate")}else this.appendTo(this.data("parentElement")),this.animate({left:this.data("panelLeft"),top:this.data("panelTop"),width:this.data("panelWidth"),height:this.data("panelHeight")}).removeClass("minimized maximized").addClass("normalized"),1==b(".jsPanel-hdr-toolbar",this).length?(b(".jsPanel-hdr-toolbar",
        this).css("display","block"),b(".jsPanel-content",this).css({display:"block",width:"100%",height:"100%",height:"-webkit-calc(100% - 40px)",height:"calc(100% - 40px)"})):b(".jsPanel-content",this).css({display:"block",width:"100%",height:"100%",height:"-webkit-calc(100% - 20px)",height:"calc(100% - 20px)"}),b(".jsPanel-hdr-r-btn-max",this).removeClass("alternate").addClass("normal");this.resizable("enable").draggable("enable");a=b(".jsPanel.minimized").length;for(e=0;e<a;e++){var d=150*e+"px";b(".jsPanel.minimized").eq(e).animate({left:d})}return this};
    c.storeData=function(a){a.data("panelWidth",a.css("width"));a.data("panelHeight",a.css("height"));a.data("panelTop",a.css("top"));a.data("panelLeft",a.css("left"));a.data("parentElement",a.parent())};c.fadeIn();if(1==arguments.length&&b.isFunction(arguments[0]))arguments[0](c);else l&&b.isFunction(l)&&l(c);return c};b.fn.jsPanel.defaults={title:function(){return"jsPanel No "+(b(".jsPanel").length+1)},overflow:"scroll",size:{width:500,height:310},position:"auto",draggable:{handle:"div.jsPanel-hdr",
    stack:".jsPanel",opacity:0.6,start:function(k,l){b(l.helper).css({bottom:"",right:""})}},resizable:{handles:"e, s, w, se, sw",autoHide:!1,minWidth:150,minHeight:93},autoclose:!1}})(jQuery);
