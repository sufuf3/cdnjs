"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=require("react-addons-css-transition-group"),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_animations=require("../animations"),_time=require("../utils/time.js"),_time2=_interopRequireDefault(_time),_utils=require("../utils/utils.js"),_utils2=_interopRequireDefault(_utils),_CalendarMonth=require("./CalendarMonth.js"),_CalendarMonth2=_interopRequireDefault(_CalendarMonth),DIRECTION_STEPS={left:-1,right:1},factory=function(e){var t=function(t){function a(){var e,t,r,n;_classCallCheck(this,a);for(var s=arguments.length,o=Array(s),i=0;i<s;i++)o[i]=arguments[i];return t=r=_possibleConstructorReturn(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),r.state={viewDate:r.props.selectedDate},r.handleDayClick=function(e){r.props.onChange(_time2.default.setDay(r.state.viewDate,e),!0)},r.handleYearClick=function(e){var t=parseInt(e.currentTarget.id),a=_time2.default.setYear(r.props.selectedDate,t);r.setState({viewDate:a}),r.props.onChange(a,!1)},r.handleKeys=function(e){var t=r.props.selectedDate;switch(37!==e.which&&38!==e.which&&39!==e.which&&40!==e.which&&13!==e.which||e.preventDefault(),e.which){case 13:r.props.handleSelect();break;case 37:r.handleDayArrowKey(_time2.default.addDays(t,-1));break;case 38:r.handleDayArrowKey(_time2.default.addDays(t,-7));break;case 39:r.handleDayArrowKey(_time2.default.addDays(t,1));break;case 40:r.handleDayArrowKey(_time2.default.addDays(t,7))}},r.handleDayArrowKey=function(e){r.setState({viewDate:e}),r.props.onChange(e,!1)},r.changeViewMonth=function(e){var t=e.currentTarget.id;r.setState({direction:t,viewDate:_time2.default.addMonths(r.state.viewDate,DIRECTION_STEPS[t])})},n=t,_possibleConstructorReturn(r,n)}return _inherits(a,t),_createClass(a,[{key:"componentWillMount",value:function(){document.body.addEventListener("keydown",this.handleKeys)}},{key:"componentDidUpdate",value:function(){this.refs.activeYear&&this.scrollToActive()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeys)}},{key:"scrollToActive",value:function(){this.refs.years.scrollTop=this.refs.activeYear.offsetTop-this.refs.years.offsetHeight/2+this.refs.activeYear.offsetHeight/2}},{key:"renderYears",value:function(){var e=this;return _react2.default.createElement("ul",{"data-react-toolbox":"years",ref:"years",className:this.props.theme.years},_utils2.default.range(1900,2100).map(function(t){return _react2.default.createElement("li",{children:t,className:t===e.state.viewDate.getFullYear()?e.props.theme.active:"",id:t,key:t,onClick:e.handleYearClick,ref:t===e.state.viewDate.getFullYear()?"activeYear":void 0})}))}},{key:"renderMonths",value:function(){var t=this.props.theme,a="left"===this.state.direction?_animations.SlideLeft:_animations.SlideRight;return _react2.default.createElement("div",{"data-react-toolbox":"calendar"},_react2.default.createElement(e,{id:"left",className:t.prev,icon:"chevron_left",onClick:this.changeViewMonth}),_react2.default.createElement(e,{id:"right",className:t.next,icon:"chevron_right",onClick:this.changeViewMonth}),_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:a,transitionEnterTimeout:350,transitionLeaveTimeout:350},_react2.default.createElement(_CalendarMonth2.default,{enabledDates:this.props.enabledDates,disabledDates:this.props.disabledDates,key:this.state.viewDate.getMonth(),locale:this.props.locale,maxDate:this.props.maxDate,minDate:this.props.minDate,onDayClick:this.handleDayClick,selectedDate:this.props.selectedDate,sundayFirstDayOfWeek:this.props.sundayFirstDayOfWeek,theme:this.props.theme,viewDate:this.state.viewDate})))}},{key:"render",value:function(){return _react2.default.createElement("div",{className:this.props.theme.calendar},"months"===this.props.display?this.renderMonths():this.renderYears())}}]),a}(_react.Component);return t.propTypes={disabledDates:_react2.default.PropTypes.array,display:_react.PropTypes.oneOf(["months","years"]),enabledDates:_react2.default.PropTypes.array,handleSelect:_react.PropTypes.func,locale:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.object]),maxDate:_react.PropTypes.object,minDate:_react.PropTypes.object,onChange:_react.PropTypes.func,selectedDate:_react.PropTypes.object,sundayFirstDayOfWeek:_react2.default.PropTypes.bool,theme:_react.PropTypes.shape({active:_react.PropTypes.string,calendar:_react.PropTypes.string,next:_react.PropTypes.string,prev:_react.PropTypes.string,years:_react.PropTypes.string}),viewDate:_react.PropTypes.object},t.defaultProps={display:"months",selectedDate:new Date},t};exports.default=factory;
//# sourceMappingURL=Calendar.min.js.map